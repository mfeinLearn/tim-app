{"ast":null,"code":"var _jsxFileName = \"/Users/malcomefein/Development/python/flatiron-curriculum-python/react-and-python-application/tim-v1/client/src/Signup.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useFormik } from \"formik\";\nimport * as yup from \"yup\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Signup = () => {\n  _s();\n  const [customers, setCustomers] = useState([{}]);\n  const [refreshPage, setRefreshPage] = useState(false);\n  // Pass the useFormik() hook initial form values and a submit function that will\n  // be called when the form is submitted\n\n  useEffect(() => {\n    console.log(\"FETCH! \");\n    fetch(\"/customers\").then(res => res.json()).then(data => {\n      setCustomers(data);\n      console.log(data);\n    });\n  }, [refreshPage]);\n  const formSchema = yup.object().shape({\n    email: yup.string().email(\"Invalid email\").required(\"Must enter email\"),\n    name: yup.string().required(\"Must enter a name\").max(15),\n    age: yup.number().positive().integer().required(\"Must enter age\").typeError(\"Please enter an Integer\").max(125)\n  });\n  const formik = useFormik({\n    initialValues: {\n      name: \"\",\n      email: \"\",\n      age: \"\"\n    },\n    validationSchema: formSchema,\n    onSubmit: values => {\n      fetch(\"customers\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(values, null, 2)\n      }).then(res => {\n        if (res.status == 200) {\n          setRefreshPage(!refreshPage);\n        }\n      });\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"User sign up form\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: formik.handleSubmit,\n      style: {\n        margin: \"30px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"name\",\n        children: \"Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"name\",\n        name: \"name\",\n        onChange: formik.handleChange,\n        value: formik.values.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: \"red\"\n        },\n        children: [\" \", formik.errors.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      style: {\n        padding: \"15px\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"age\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), customers === \"undefined\" ? /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Loading\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 13\n        }, this) : customers.map((customer, i) => /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: customer.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: customer.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: customer.age\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 19\n            }, this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 17\n          }, this)\n        }, void 0, false))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n_s(Signup, \"aPB5tP+EyyaK2528iEtMeEykaMo=\", false, function () {\n  return [useFormik];\n});\n_c = Signup;\nexport default Signup;\nvar _c;\n$RefreshReg$(_c, \"Signup\");","map":{"version":3,"names":["React","useEffect","useState","useFormik","yup","Signup","customers","setCustomers","refreshPage","setRefreshPage","console","log","fetch","then","res","json","data","formSchema","object","shape","email","string","required","name","max","age","number","positive","integer","typeError","formik","initialValues","validationSchema","onSubmit","values","method","headers","body","JSON","stringify","status","handleSubmit","margin","handleChange","color","errors","padding","map","customer","i"],"sources":["/Users/malcomefein/Development/python/flatiron-curriculum-python/react-and-python-application/tim-v1/client/src/Signup.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useFormik } from \"formik\";\nimport * as yup from \"yup\";\n\nconst Signup = () => {\n  const [customers, setCustomers] = useState([{}]);\n  const [refreshPage, setRefreshPage] = useState(false);\n  // Pass the useFormik() hook initial form values and a submit function that will\n  // be called when the form is submitted\n\n  useEffect(() => {\n    console.log(\"FETCH! \");\n    fetch(\"/customers\")\n      .then((res) => res.json())\n      .then((data) => {\n        setCustomers(data);\n        console.log(data);\n      });\n  }, [refreshPage]);\n\n  const formSchema = yup.object().shape({\n    email: yup.string().email(\"Invalid email\").required(\"Must enter email\"),\n    name: yup.string().required(\"Must enter a name\").max(15),\n    age: yup\n      .number()\n      .positive()\n      .integer()\n      .required(\"Must enter age\")\n      .typeError(\"Please enter an Integer\")\n      .max(125),\n  });\n\n  const formik = useFormik({\n    initialValues: {\n      name: \"\",\n      email: \"\",\n      age: \"\",\n    },\n    validationSchema: formSchema,\n    onSubmit: (values) => {\n      fetch(\"customers\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(values, null, 2),\n      }).then((res) => {\n        if (res.status == 200) {\n          setRefreshPage(!refreshPage);\n        }\n      });\n    },\n  });\n\n  return (\n    <div>\n      <h1>User sign up form</h1>\n      <form onSubmit={formik.handleSubmit} style={{ margin: \"30px\" }}>\n        {/*  */}\n        {/* <label htmlFor=\"email\">Email Address</label>\n        <br />\n        <input\n          id=\"email\"\n          name=\"email\"\n          onChange={formik.handleChange}\n          value={formik.values.email}\n        />\n        <p style={{ color: \"red\" }}> {formik.errors.email}</p> */}\n        {/*  */}\n        <label htmlFor=\"name\">Name</label>\n        <br />\n\n        <input\n          id=\"name\"\n          name=\"name\"\n          onChange={formik.handleChange}\n          value={formik.values.name}\n        />\n        <p style={{ color: \"red\" }}> {formik.errors.name}</p>\n        {/*  */}\n        {/* <label htmlFor=\"age\">age</label>\n        <br />\n\n        <input\n          id=\"age\"\n          name=\"age\"\n          onChange={formik.handleChange}\n          value={formik.values.age}\n        />\n        <p style={{ color: \"red\" }}> {formik.errors.age}</p> */}\n        <button type=\"submit\">Submit</button>\n      </form>\n      <table style={{ padding: \"15px\" }}>\n        <tbody>\n          <tr>\n            <th>name</th>\n            <th>email</th>\n            <th>age</th>\n          </tr>\n          {customers === \"undefined\" ? (\n            <p>Loading</p>\n          ) : (\n            customers.map((customer, i) => (\n              <>\n                <tr key={i}>\n                  <td>{customer.name}</td>\n                  <td>{customer.email}</td>\n                  <td>{customer.age}</td>\n                </tr>\n              </>\n            ))\n          )}\n        </tbody>\n      </table>\n    </div>\n  );\n};\nexport default Signup;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}